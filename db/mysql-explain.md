# MySQL 실행계획 알아보기

쿼리 튜닝을 위해서는 실행한 쿼리가 DB에서 어떻게 처리되는지를 파악해야합니다. DB는 일단 사람이 이해할 수 있는 SQL을 내부적으로 문법에 맞게 파싱하고 DB에서 실행하기 위한 형태로 변화하는 과정을 거칩니다. 그 다음 데이터를 찾는 가장 빠른 방법을 찾아내는 옵티마이징 과정을 거친 후 실제 데이터를 찾습니다. 

MySQL의 실행계획은 DB가 데이터를 찾아가는 과정을 사람이 알아보기 쉽게 테이블 형태로 보여주는 것을 말합니다. `explain` 명령어를 이용해 확인할 수 있으며 성능 분석, 인덱스 전략 수립 등과 같은 성능 최적화에 필요한 전반적인 데이터를 수집할 수 있습니다. 

- type: 조인 혹은 조회 타입
- key: 실제 사용하는 인덱스
- key_len: 실제 사용하는 인덱스의 길이
- ref: 인덱스와 비교하는 컬럼

### type

인덱스를 사용해 레코드를 읽었는지 아니면 풀 테이블 스캔을 이용했는지 등을 의미합니다. 

- const: select에서 primary key 혹은 unique key를 상수로 조회하는 경우
    - 반드시 1건의 레코드만 반환
- ref: join을 할 때 primary key 혹은 unique key가 아닌 다른 key를 사용하는 경우
- range: 인덱스를 이용한 범위 조회를 하는 경우
- index: 인덱스 풀스캔
- all: 테이블 풀스캔 

## 참고 자료
- https://haemanlee.tistory.com/26
